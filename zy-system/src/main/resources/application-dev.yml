spring:
  application:
    name: zy-system
  cloud:
    consul: #Consul服务注册发现配置
      host: localhost
      port: 8500
      discovery:
        service-name: ${spring.application.name}

    stream:
      binders: # 在此处配置要绑定的rabbitMQ的服务信息
        defaultRabbit: # 表示定义的名称，用于binding的整合
          type: rabbit # 消息中间件类型
          environment: # 设置rabbitMQ的相关环境配置
            spring:
              rabbitmq:
                host: localhost
                port: 5672
                username: guest
                password: guest
      bindings: # 服务的整合处理
        output: # 这个名字是一个通道的名称
          destination: studyExchange # 表示要使用的exchange名称定义
          content-type: application/json # 设置消息类型，本次为json，文本则设为text/plain
          binder: defaultRabbit # 设置要绑定的消息服务的具体设置

  datasource:
    url: jdbc:mysql://127.0.0.1:3306/zy?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&characterEncoding=utf8
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver
    ################ Redis 基础配置 ##############
  redis:
    host: 127.0.0.1  # IP
    port: 6379  # 端口号
    password:   # 密码
    timeout: 10000
    lettuce:
      pool:
        max-active: 8 # 连接池最大连接数
        max-wait: -1ms  # 连接池最大阻塞等待时间（使用负值表示没有限制）
        min-idle: 0 # 连接池中的最小空闲连接
        max-idle: 8 # 连接池中的最大空闲连接
  main:
    allow-bean-definition-overriding: true
  #邮件信息
  mail:
    host: smtp.163.com
    # 邮件的发送者 163邮箱(开发测试时使用)
    username: hb_cxtl@163.com
    # SMTP授权密码
    password: AKXPGSLFFMPZJHEH
    port: 25
    protocol: smtp
    default-encoding: UTF-8

  session:
    store-type: redis
    #rocketmq:
#  # 生产者配置
#  producer:
#    groupName: ${spring.application.name}
#    namesrvAddr: 127.0.0.1:8088
#    default: false

feign:
  hystrix:
    enabled: true

logging:
  level:
    org.springframework.security: info
    root: info

#jwt
jwt:
  header: Authorization
  # 令牌前缀
  token-start-with: Bearer
  # 必须使用最少88位的Base64对该令牌进行编码
  base64-secret: ZmQ0ZGI5NjQ0MDQwY2I4MjMxY2Y3ZmI3MjdhN2ZmMjNhODViOTg1ZGE0NTBjMGM4NDA5NzYxMjdjOWMwYWRmZTBlZjlhNGY3ZTg4Y2U3YTE1ODVkZDU5Y2Y3OGYwZWE1NzUzNWQ2YjFjZDc0NGMxZWU2MmQ3MjY1NzJmNTE0MzI=
  # 令牌过期时间 此处单位/毫秒 ，默认4小时，可在此网站生成 https://www.convertworld.com/zh-hans/time/milliseconds.html
  token-validity-in-seconds: 14400000
  # 在线用户key
  online-key: online-token
  # 验证码
  code-key: code-key


#是否开启 swagger-ui
swagger:
  enabled: true
  title: yshop商城管理后台API
  serverUrl:
  version: 2.2

# 文件存储路径
#  1.localUrl为空的话上传文件会走七牛云，清转向文档看七牛云配置
#  2.如果想文件存在本地，并通过本地代理出去请填写localUrl： http://127.0.0.1:8000为本服务的ip+端口号
#     线上的地址就是你通过nginx代理http://127.0.0.1:8000出来的地址。鉴于群里很多问的这里做个说明不在赘述
file:
  path: D:\yshop\file\
  avatar: D:\yshop\avatar\
  # 文件大小 /M
  maxSize: 100
  avatarMaxSize: 5
  localUrl: http://127.0.0.1:8000
